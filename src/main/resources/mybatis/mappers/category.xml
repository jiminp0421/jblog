<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="category">
<select id="blogCategoryList" parameterType="String" resultType="com.javaex.vo.CategoryVo">
	<![CDATA[
	SELECT  cateNo,
        	id,
        	cateName,
        	description,
        	regDate
	FROM category
	WHERE id = #{id}
	ORDER BY cateno desc
	]]>
</select>

<select id="admincategory" parameterType="String" resultType="com.javaex.vo.CategoryVo">
	<![CDATA[
	SELECT  cate.cateno as "cateNo",
        	cate.catename as "cateName",
        	caca.catecount as "cateCount",
        	cate.description as "description"
	FROM category cate,(SELECT c.cateno,count(p.cateno) cateCount
                    	FROM category c left outer join post p
                    	on c.cateno = p.cateno
                    	GROUP by c.cateno) caca
	WHERE cate.cateno = caca.cateno
	AND cate.id = #{id}
	ORDER by cate.cateno asc
	]]>
</select>



</mapper>